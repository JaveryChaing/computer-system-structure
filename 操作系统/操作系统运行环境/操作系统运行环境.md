## 操作系统运行环境

- #### **处理器**

  > **处理器组成**
  >
  > 1. 运算器（处理器核心，负责算数运算与逻辑运算）
  > 2. 控制器（负责程序运行流程，取值，维护处理器状态，处理器与内存交互）
  > 3. 寄存器（存储处理器计算结果，地址及指令信息）
  >    - 用户寄存器（程序可用，减少内存访问次数，使程序运行速度最大化）
  >      - 数据寄存器（存储算数逻辑指令和访存方式）
  >      - 地址寄存器（存储物理地址，线性地址，有效地址）
  >      - 条件码寄存器（结果标记位，异常，中断标记位）
  >    - 控制、状态寄存器
  > 4. 高速缓存
  >
  > 
  >
  > **指令执行过程（单个指令周期）**
  >
  > 1. 处理器从存储器中读入指令
  > 2. 程序计数器指向下一条指令地址
  > 3. 将指令存入寄存器
  > 4. 处理器解析并执行这条指令
  >
  >  
  >
  > **处理器状态**
  >
  > *处理器依据运行程序资源和机器指令的使用权将处理器设置为不同状态*
  >
  > - 管态：操作系统的管理程序运行状态，具有较高的特权级别，可以执行所有指令，使用所有资源
  > - 目态：用户程序运行状态（不能直接使用系统资源，不能改变CPU工作状态）
  > - 目态到管态转换：中断
  > - 管态到目态转换：PSW指令（修改程序状态字）
  >
  > 
  >
  > **程序状态字（PSW）**
  >
  > *表示处理器当前的工作状态*
  >
  > - PSW 
  >   1. CPU的工作状态码（标识处于管态还是目态）
  >   2. 条件码（执行指令后结果特征）
  >   3. 中断屏蔽码（是否运行中断）
  > - PC(程序计数器)

- 系统硬件

  > *处理器唯一能直接访问的存储器为内存，任何程序和数据都必须装载入内存，处理器才能操作*
  >
  > - **存储系统**
  >
  >   - 类型
  >
  >     1. RAM 随机**存取**的程序数据
  >     2. ROM 只读存储器
  >
  >   - 存储保护
  >
  >     *防止应用程序恶意破坏数据，对系统内存中数据加以保护*
  >
  >     界地址存储器（通过内存上下限限制程序存取内存范围）
  >
  > - **I/O部件**
  >
  >   - I/O构造 
  >   - 通道（控制**外部设备与内存数据交互**，当外部设备结束工作后以事件中断方式通知CPU进行相应操作）
  >   - DMA技术（直接存储器访问）自动控制内存与I/O单元数据块，处理器控制DMA单元，由DMA单元与设备I/O进行数据交互
  >   - 缓存技术（解决输入速度与处理器速度不一致问题）
  >
  > - **时钟部件**
  >
  >   1. 处理系统死循环，访问机时浪费
  >   2. 在分时系统中，安装时间间隔轮询作业
  >   3. 实时系统中，按时间间隔输入输出作业
  >   4. 定时唤醒指定的事件
  >   5. 记录时间发生时间和时间间隔
  >
  >   硬件时钟主要通过**晶体振荡器**每间隔一定时间产生的脉冲频率，软件时钟利用**内存单元模拟时钟计数器**
  >
  >   - 绝对时间（不会被终止，同时使用公历时间显示）
  >   - 相对时间（计数器中计数间隔）

- #### 中断机制

  > 

- 系统调用