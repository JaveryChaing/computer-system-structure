
## **空间解析几何与向量代数**

- #### **空间中两点距离公式**

  > $|P_1P_2| = \sqrt{a^2+b^2+c^2} \ \ \ \  P_1\{x_1,y_1,z_1\},P_2\{x_2,y_2,z_2\} \ \ \ a=|x_2-x_1,y_2-y_1,z_z-z_1|$ 

- #### **向量代数**

  > 向量相等：模相同，方向相同
  >
  > 向量共线：向量的起始点与终止点都在同一条直线上
  >
  > 向量共面：向量的起始点与终止点都在同一条平面上
  >
  > 向量平行：向量的方向相同或相反（零向量与任何向量都是共线的，向量共线的充要条件时这两个向量相互平行，**空间中任意连个向量都是共面的**）
  >
  > **向量平行充要条件：** 设向量$\vec{a}\neq \vec{0}$则存在$\lambda$使得 $\lambda \vec{a} = \vec{b}$
  >
  > **向量夹角：** 0<= $\varphi$ <= $\pi$，零向量与任意向量的夹角可取[0,$\pi$] 任意值，非零向量的夹角等于$\frac{\pi}{2}$ 时，向量垂直
  >
  > 向量投影：a向量在b上的投影简记为 $Prj_b \vec{a}$​     $Prj_b \vec{a}$​ = $|\vec{a}|cos \varphi$​    
  > $$
  > 同一投影向量可以相加 ~~~ Prj_u(\vec{a}+\vec{b}) = Prj_u\vec{a} + Prj_u\vec{b}
  > $$

- #### **向量坐标**

  > 空间坐标系中存在两点$M_1(x_1,y_1,z_1),M_2(x_2,y_2,z_2)$ 则在空间坐标系中表示$\vec{M_1M_2}$向量坐标为{$x_2-x_1,y_2-y_1,z_2-z_1$}，其$\vec{M_1M_2}$的模为$\sqrt{a^2+b^2+c^2}$
  >
  > 向量a，b在空间坐标系中体现在 $\frac{x_1}{x_2} = \frac{y_1}{y_2} = \frac{z_1}{z_2} = \lambda$
  >
  > **方向角：** 向量与坐标轴的余弦
  >
  > 

- #### **向量数量积与向量积**

  > 数量积：$\vec{a} \cdot \vec{b} = |\vec{a}|\vec{b}|cos\varphi $   在向量坐标中$\vec{a} \cdot \vec{b} = a_1b_1+a_2b_2+a_3b_3$ 
  >
  > 向量积：给定两个向量$\vec{a},\vec{b}$它们的向量积规定为一个向量$\vec{\lambda}$其定义为
  >
  > 1. $\vec{\lambda}的长度为|\vec{\lambda}| = |\vec{a}| |\vec{b}| sin \varphi$  
  > 2. $\vec{\lambda}$的方向垂直与$\vec{a} 与 \vec{b}相交所在平面$
  >
  > 向量积使用坐标计算 
  >
  > $\vec{a}=\{a_1,a_2,a_3\} \vec{\beta}=\{b_1,b_2,b_3\}$ 
  >
  > $\vec{a} \times \vec{b} = \left[\matrix{\vec{i}&\vec{j}&\vec{c} \\ a_1&a_2&a_3 \\ b_1&b_2&b_3} \right] = \left[
  > \matrix{
  >   a_2 & a_3 \\
  >   b_2 & b_3
  > }
  > \right] \vec{i} - \left[
  > \matrix{
  >   a_1 & a_3 \\
  >   b_1 & b_3
  > }
  > \right] \vec{j}+\left[
  > \matrix{
  >   a_1 & a_2 \\
  >   b_1 & b_2
  > }
  > \right] \vec{k}$
  >
  > 矩阵对角相乘在相减 

- #### **空间中曲面与曲线**

  >**曲面对称**
  >
  >1. 曲面关于卦面对称 F(x,y,z) = 0 关于Oxy平面对称充要条件为 F(x,y,z) = F(x,y,-z)
  >2. 曲面关于卦面对称 F(x,y,z) = 0 关于Oyz平面对称充要条件为 F(x,y,z) = F(-x,y,z)
  >3. ...
  >
  >---
  >
  >**旋转曲面**
  >
  >*曲线绕它所在的平面的一条直线L旋转一周所生成的曲面*
  >
  >*旋转轴变量不变，参数变为 $\pm\sqrt{x^2+z^2}$*
  >$$
  >曲线方程：f(y,z)=0 \\
  >绕z轴生成的旋转曲面： f(\pm\sqrt{x^2+y^2},z) = 0 \\ 
  >绕y轴生成的旋转曲面： f(y,\pm\sqrt{x^2+z^2}) = 0  \\ 
  >...
  >$$
  >
  >---
  >
  >**母线平行于坐标轴的柱面方程**
  >
  >母线平行于z轴的柱面方程：f(x,y) = 0 
  >
  >---
  >
  >**空间曲线方程**
  >
  >- 一般曲线方程（两个曲面相交，其解为曲线方程上的点）
  >  $$
  >  C：\left\{
  >    \begin{array}{c}
  >     F(x,y,z) = 0 \\
  >     G(x,y,z) = 0
  >    \end{array}
  >    \right.
  >  $$
  >
  >- 参数方程
  >  $$
  >  C：\left\{
  >    \begin{array}{c}
  >     x = x(t),\\
  >     y= y(t),\\
  >     z=k\theta
  >    \end{array}
  >    \right. \\
  >    (a \leq t \leq b)
  >  $$
  >
  >- 空间曲线在坐标面上投影
  >
  >  1. Oxy投影  参数z = 0
  >  2. Oyz投影  参数x = 0
  >  3. Oxz投影  参数y = 0
  
- #### **空间平面与直线**

  > **空间平面确定**
  >
  > 1. *不在同一直线上任意三个点*
  > 2. *直线及直线外一点*
  > 3. *两条相交，平行的直线*
  >
  > ---
  >
  > **点法式方程**
  > $$
  > Ax+By+Cz+D = 0 ~~~~~其中A，B，C不全为0 \\ 
  > \vec{n} =\{A,B,C\} ~~~ 为平面中一个法向量
  > $$
  > 求平面方程解法
  >
  > 1. 点法方程（法向量与平面内任意向量垂直，其数量积为0）
  > 2. 待定系数法（将平面内点带入点法方程求A，B，C，D的值）
  > 3. 使用向量乘积方程
  >
  > ---
  >
  > **平面截距方程**
  >
  > 1. D=0时，平面包含原点
  > 2. A = 0 时，表示平面平行x轴
  > 3. A=0，B=0时，平面平行于Oxy
  >
  > $$
  > 平面截距方程：\frac{x}{a} + \frac{y}{b} + \frac{z}{c} = 1 \\  
  > \\ 
  >  a = \frac{-D}{A} ~~~  b = \frac{-D}{B} ~~~  c = \frac{-D}{C}
  > $$
  >
  > ---
  >
  > **平面夹角**
  >
  > *向量夹角  $0 \leq \varphi \leq\pi$*
  >
  > *平面夹角  $0 \leq \varphi \leq\pi$*
  >
  > <img src="img\image-20220713172842615.png" alt="image-20220713172842615" style="zoom:50%;" /> 
  > $$
  > 两平面法向量\vec{n_1} =\{A_1,B_1,C_1\} ~~~~\vec{n_2}=\{A_2,B_2,C_2\} \\
  > cos\theta = \frac{|A_1A_2+B_1B_2+C_1C_2|}{\sqrt{A_1^2+B_1^2+C_1^2}\sqrt{A_2^2+B_2^2+C_2^2}}  \\ 
  > ~~~1.平面垂直充要条件 A_1A_2+B_1B_2+C_1C_2 = 0 \\
  > ~~~2.平面平行充要条件 \frac{A_1}{A_2} = \frac{B_1}{B_2} = \frac{C_1}{C_2}
  > $$
  >
  > ---
  >
  > **直线对称式方程**
  > $$
  > 对称式方程 ~~~ \frac{x-x_0}{l} = \frac{y-y_0}{m} = \frac{z-z_0}{n}  \\
  > 其中\vec{v}=\{l,m,n\} 为直线方程方向向量 \\
  > $$
  >
  > ---
  >
  > **直线参数方程**
  > $$
  > \frac{x-x_0}{l} = \frac{y-y_0}{m} = \frac{z-z_0}{n} = t \\
  > \\
  > L：\left\{
  >   \begin{array}{c}
  >    x = x_0+lt,\\
  >    y= y_0+mt,\\
  >    z=z_0+nt
  >   \end{array}
  >   \right. \\
  >   (-\infty < t < +\infty)
  > $$
  >
  > ---
  >
  > **一般方程**(两个相交平面结果集)
  > $$
  > L：\left\{
  >   \begin{array}{c}
  >    A_1x+B_1y+C_1z+D_1 = 0 \\
  >    A_2x+B_2y+C_1z+D_2 = 0
  >   \end{array}
  >   \right.
  > $$
  >
  > 1. 直线对称方程与参数方程可以直接导出一般方程
  > 2. 一般方程转对称方程和参数方程需要通过两个平面法向量求出其方向向量（向量积乘)在带入其经过点
  >
  > ---
  >
  > **直线夹角**
  > $$
  > \vec{v_1} = \{l_1,m_1,n_1\},~~~ \vec{v_2} = \{l_2,m_2,n_2\}\\
  > cos\theta = \frac{|l_1l_2+m_1m_2+n_1n_2|}{\sqrt{l_1^2+m_1^2+n_1^2}\sqrt{l_2^2+m_2^2+n_2^2}}
  > $$

- #### **二次曲面**

> ~~~matlab
> %% 椭圆锥面
> a=3;
> b=3;
> x=-5:0.01:5;
> y=-5:0.01:5;
> [X,Y]=meshgrid(x,y); 
> 
> Z=sqrt(X.^2/a^2+Y.^2/b^2);
> figure
> surf(X,Y,Z); % 正半轴
> hold on
> surf(X,Y,-Z); % 负半轴
> zlim([-1,1]);
> alpha(0.5)
> shading interp
> line([0,0],[0,0],[2.5,-2.5],'linewidth',2);
> line([0,0],[5.5,-5.5],[0,0],'linewidth',2);
> line([5.5,-5.5],[0,0],[0,0],'linewidth',2)
> axis off
> 
> 
> %% 椭球面
> % 参数方程
> % x=asinθcosφ
> % y=bsinθsinφ
> % z=ccosθ (0≤θ≤2π, 0≤φ<2π)
> a=3;
> b=2;
> c=1;
> phi=0:0.1:2*pi;
> theta=phi';
> x=a*sin(theta)*cos(phi);
> y=b*sin(theta)*sin(phi);
> z=c*cos(theta)*ones(size(phi));
> figure
> surf(x,y,z)
> alpha(0.5)
> shading interp
> line([0,0],[0,0],[c*1.5,-c*1.5],'linewidth',2);
> line([0,0],[b*1.5,-b*1.5],[0,0],'linewidth',2);
> line([a*1.5,-a*1.5],[0,0],[0,0],'linewidth',2);
> axis equal
> axis off
> 
> %% 椭圆抛物面
> a=3;
> b=3;
> x=-5:0.01:5;
> y=-5:0.01:5;
> [X,Y]=meshgrid(x,y); 
> 
> Z=X.^2/a^2+Y.^2/b^2;
> figure
> surf(X,Y,Z); % 正半轴
> zlim([-1,1]);
> alpha(0.5)
> shading interp
> line([0,0],[0,0],[2.5,-.5],'linewidth',2);
> line([0,0],[5.5,-5.5],[0,0],'linewidth',2);
> line([5.5,-5.5],[0,0],[0,0],'linewidth',2)
> axis off
> 
> %% 椭圆柱面
> % 参数方程
> % x=acosφ;
> % y=bsinφ;
> % z=t;  0≤φ<2π
> a=4;
> b=2;
> theta=0:0.1:2*pi+0.1;
> x=a*cos(theta);
> y=b*sin(theta);
> z=-5:0.5:5;
> X=ones(length(z),1)*x;
> Y=ones(length(z),1)*y;
> Z=z'*ones(1,length(x));
> 
> figure
> hold on
> surf(X,Y,Z)
> 
> alpha(0.5)
> shading interp
> line([0,0],[0,0],[5.5,-5.5],'linewidth',2);
> line([0,0],[5.5,-5.5],[0,0],'linewidth',2);
> line([5.5,-5.5],[0,0],[0,0],'linewidth',2)
> axis off
> axis equal
> view(18,20)
> 
> clc
> clear
> close all
> 
> R=10; %大圆半径
> aplha1=0:pi/40:2*pi;
> N=length(aplha1);
> r=2; %管道圆半径
> x0=r*cos(aplha1)+R;
> z0=r*sin(aplha1);
> y0=zeros(1,length(x0));
> 
> aplha2=0:pi/40:2*pi;
> M=length(aplha2);
> 
> x= zeros(M,N);
> y= zeros(M,N);
> z= zeros(M,N);
> 
> for i=1:N
>     for j=1:M
>         x(j,i)=cos(aplha2(1,j))*x0(1,i);
>         y(j,i)=sin(aplha2(1,j))*x0(1,i);
>         z(j,i)=z0(1,i);
>     end
> end
> surf(x,y,z)
> 
> alpha(0.5)
> shading interp
> line([0,0],[0,0],[5.5,-5.5],'linewidth',2);
> line([0,0],[5.5,-5.5],[0,0],'linewidth',2);
> line([5.5,-5.5],[0,0],[0,0],'linewidth',2)
> axis off
> axis equal
> view(18,20)
> 
> %% 单页双曲面
> % 参数方程
> % x=acoshθcosφ
> % y=bcoshθsinφ
> % z=csinhθ (-∞≤θ≤∞, 0≤φ<2π)
> 
> a=1;
> b=1;
> c=1;
> phi=0:0.1:2*pi+0.1;
> theta=(-1:0.1:1)';
> x=a*cosh(theta)*cos(phi);
> y=b*cosh(theta)*sin(phi);
> z=c*sinh(theta)*ones(size(phi));
> figure
> surf(x,y,z)
> alpha(0.5)
> shading interp
> line([0,0],[0,0],[c*1.5,-c*1.5],'linewidth',2);
> line([0,0],[b*1.5,-b*1.5],[0,0],'linewidth',2);
> line([a*1.5,-a*1.5],[0,0],[0,0],'linewidth',2);
> axis equal
> axis off
> 
> %% 抛物柱面
> a=1;
> x=-5:0.1:5;
> y=x.^2/2;
> z=-5:0.5:5;
> X=ones(length(z),1)*x;
> Y=ones(length(z),1)*y;
> Z=z'*ones(1,length(x));
> 
> figure
> hold on
> surf(X,Y,Z)
> hold on
> surf(-X,Y,Z)
> 
> alpha(0.5)
> shading interp
> line([0,0],[0,0],[5.5,-5.5],'linewidth',2);
> line([0,0],[5.5,-5.5],[0,0],'linewidth',2);
> line([5.5,-5.5],[0,0],[0,0],'linewidth',2)
> axis off
> axis equal
> view(73,27)
> ~~~
>
> 

