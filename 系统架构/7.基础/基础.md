## 基础

- 磁盘调度

  1. 先来先服务

  2. 最短寻找优先（最短移臂调度算法）：优先访问当前磁头最近柱面

  3. 电梯调度：优先访问当前磁头最近一侧柱面

  4. 单向扫描：只向一侧扫描柱面
  
- 磁盘调度时间

  1. 寻道时间 $Ts = s + m \times n$ ，s：启动磁头臂时间，m单个磁道时间，横跨n条磁道
  2. 延迟时间（转动磁盘时间，从磁头定位到目标扇区时间）$Tr = 1/2r$   r：磁盘转速
  3. 传输时间 $Tt = \frac{b}{rN}$， b：每次读写字节数，N：每个磁道字节数，r： 磁盘转速
  4. 磁盘读取时间 $Ta = Ts + Tr + Tb = Ts + \frac{1}{2r} + \frac{b}{rN}$
  
- 串行，并行，同步，异步

  1. 串行：单个比特位传输，速率低，可靠性高，适合远距离，可控制速率。
  2. 并行：数据同时传输多个位，速度快，费用高，适合近距离。
  3. 同步，异步：收发方保持时钟同步，以确保数据的传输准确性

- CPU外频（系统总线频率）$\times $ 倍频 = 主频 

- CRC循环冗余校验码

  1. 多项式$G(x) = X^5+X^3+X+1$  表示二进制 101011 （首尾必须为1 ）
  2. FCS = 数据 % 多项式 
  3. 发送数据 = 数据 + FCS 
  
- 流水线指令计算

  1. 流水线周期：其中最长执行时间为该流水线周期

  2. 流水线执行时间：步骤总执行时间 + (总指令条数 -1 ) * 流水线周期

  3. 流水线吞吐率（单位时间执行指令条数）： 指令条数 /  流水线执行时间

  4. 流水线加速比 = $\frac{不使用流水线时间}{流水线执行时间}$

- RISC与CISC

  ![image-20231008213319623](assets/image-20231008213319623.png) 

- 宏内核与微内核

  1. 宏内核：拥有硬件的所有控制权，高性能，代码庞大，结构混乱，难以维护，程序资源通过操作系统分配（内核调用），内核崩溃程序无法运行（必须重启）
  2. 微内核：内核功能少，结构清晰，方便维护，性能低（管态与目态上下文切换），用户程序可以调用内核API，无需经过操作系统
  
- 内存地址转换

  1. 全相联映像：块冲突低最低，空间利用率最高，块表容量过大，转换速度慢，适合容量小的Cache

     主存地址 = 块号 + 块内地址

     Cache地址 = 行号 + 行内地址

     块表容量 = Cache行号 * 主存块号位数

  2. 直接映像：块冲突高，直接映射方式一般用于大容量的cache中

     <img src="assets/image-20221009165735723.png" alt="image-20221009165735723" style="zoom:67%;" /> 
  
     - 主存块号 j，与Cache行号`i`映射关系为  i = j mod $2^m$  
     - $2^m$ 为Cache块数，s-m为主存标记位长度
     - 块表长度为 $2^m$ ， 块表容量 $2^m \times (s-m)$
  
  3. 组相联映像：减少块冲突概率
  
     <img src="assets/image-20221009173426713.png" alt="image-20221009173426713" style="zoom:67%;" /> 
  
     - 主存块号`j`与Cache组号`q`映射关系为  q = j mod $2^d$  
  
- 锁资源分配

  1. PV操作：P申请资源，V释放资源 ，当S > 0 时，P，V操作可执行

  2. 前趋图：执行前申请资源（入度），执行后释放资源（出度）

  3. 死锁

     - 死锁预防：破坏死锁产生的条件
     - 死锁避免：合理分配进程资源
     - 死锁检测
     - 死锁解除
     - **死锁资源计算：发生死锁最大资源为 n*（R-1），不发发生死锁最小资源 n * (R-1)+1**

- 

​     

  



