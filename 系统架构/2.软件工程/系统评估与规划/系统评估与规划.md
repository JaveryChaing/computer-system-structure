## 系统评估与规划

> - **计算机性能指标**
>
>   1. 时钟频率（主频）：决定了计算机的运算速度
>
>   2. 高速缓存：Cache容量（L1，L2，L3）
>
>   3. 指令运算速度：MIPS（百万条指令/秒）和 MFLOPS（百万次浮点运算/秒）
>
>   4. 主存容量频率，存储器存取周期（总线速度）
>
>   5. 数据处理率：PDR = L / R ，度量CPU和主存储器的速度，它没有涉及高速缓存和多功能
>
>      > L = 0.85G + 0.15H + 0.4J + 0.15K
>      >
>      > R = 0.85M + 0.09N + 0.06P
>      >
>      > G： 每条定点指令的位数
>      >
>      > M：平均定点加法时间
>      >
>      > H：每条浮点指令的位数； 
>      > N：平均浮点加法时间；
>      > J：定点操作数的位数；
>      > P：平均浮点乘法时间；
>      >
>      > K：浮点操作数的位数
>
>   6. 响应时间
>
>   7. RASIS特性
>
>      > - 可靠
>      > - 可用
>      > - 可维护
>      > - 完整
>      > - 安全
>
>   8. TAT：平均故障响应时间 
>
>   9. 兼容性
>
>   ---
>
> - **网络性能指标**
>
>   1. 设备级性能指标：计算机网络设备（主要指路由器）的标准性能指标主要包括吞吐量（信道的最大吞吐量 为“信道容量”）、延迟、丢包率和转发速度
>   2. 网络级性能指标：可达性、网络系统的吞吐量、传输速率、信道利用率、信道容 量、带宽利用率、丢包率、平均传输延迟、平均延迟抖动、延迟/吞吐量的关系、延迟抖动/  吞吐量的关系、丢包率/吞吐量
>   3. 应用性能指标：QOS，网络对语言应用的支持程度、网络对视频应用的支持程 度、延迟/服务质量的关系、丢包率/服务质量的关系、延迟抖动/服务质量
>   4. 用户级性能指标
>   5. 吞吐量：没有帧丢失的情况下，设备能够接受的最大速率
>
>   ---
>
> - **操作系统**
>
>   1. 可靠性
>   1. 吞吐量（单位时间内处理的信息量，以每小时或每天所处理 的各类作业的数量来度量）
>   1. 系统响应时间
>   1. 系统资源利用率
>   1. 可移植
>   
>   ---
>   
> - **数据库管理系统**
>
>   1. 数据库的大小、单个数据库文件的大小
>   2. 数据库中表的数量、单个表的大小、表中允许的记录（行）数量、单个记录（行）的大小、表上 所允许的索引数量
>   3. 数据库所允许的索引数量
>   4. 最大并发事务处理能力、负载均衡能力、最大连接数
>
>   ---
>
> - **Web服务器**
>
>   1. 最大并发连接数
>   2. 响应延迟
>   3. 吞吐量（每秒处理的请求数）
>   4. 成功请求数、失败请求数
>   5. 每秒点击次数、每秒成功点击次数、每秒失败点击次数
>   6. 尝试连接数、用户连接数等。
>
> **性能评估**
>
> - 基准测试：用得最多、最频繁的那部分核心程序作为评价计算机性能的标准程序
>
>   1. 整数测试
>   2. 浮点测试（测试CPU运算）
>   3. SPEC基准测试（测试计算机整体性能）
>   4. TPC基准查询（测试事务，数据库处理）
>   5. Linpack：测试高性能计算机系统浮点性能
>
> - Web服务器性能评估
>
>   - 基准测试
>   - 压力测试（模拟足够数量的并发操作）
>   - 可靠性测试
>
>   
>
> #### **性能计算**
>
> - 性能计算方法：定义法，公式法，查询检测，仪器检测
>
> - **MIPS计算**：单字长定点指令平均执行速度
>   $$
>   MIPS = \frac{指令条数}{执行时间 \times 10 ^6} = \frac{Fz}{CPI} = IPC \times Fz \\
>    Fz:处理机工作主频 \\ CPI：每条指令所需的平均时钟周期数 \\ IPC 每个时钟周期平均执行的指令条数
>   $$
>
> - 峰值计算：计算机每秒钟能完成的浮点计算最大次数（由CPU主频决定）
>
> - 等效指令速度：使用其他指令代替原先指令
>
> - **Amdahl 定理（改进后加速比）**
>   $$
>   f_{new}~~~ 性能可改进比（系统在该功能上花费的时间）~~~~0\le f_{new} \le 1  \\
>   r_{new} ~~~ 部件加速比(部件改进前与改进后花费时间比)~~~~~~~~~ r_{new} > 1   \\ 
>   S_p~~~~ 系统加速比(原执行时间与改进后执行时间之比)\\
>   
>   S_p = \frac{T_{old}}{T_{new}} = \frac{1}{(1-f_{new})+f_{new}/ r_{new}}
>   $$
>
> **负载均衡**
>
>  集群：多个服务器同时执行某一个任务时
>
> 负载均衡技术类型：
>
> - 请求重定向：服务器回送location指令，由客户端重新请求
> - 基于DNS负载均衡：为多个不同的地址配置同一个域名（不能保证DNS即时刷新）
> - 反向代理：通过Web服务器将请求代理到其他集群
> - 网络地址转换（NAT）：将 IP 数据报文头中的 IP 地址转换为另一个 IP 地址，并通过转换端口号达到地址重用的目的
> - 半中心负载均衡：中心负载均衡器只负责接受并转发请求
>
> 