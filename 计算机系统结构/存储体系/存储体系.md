## 存储体系

> 现代计算机系统以存储为中心,其中包括**高速缓存存储器(Cache),主存和外部存储器**形成一个层次化的存储结构.
>
> 存储器性能三要素
>
> 1. 容量  $S_M=W\times l \times m$ 其中 W存储体的字长, l为每个存储体的字数,m为并行工作的存储个数 
> 2. 价格
> 3. 速度
> 4. $T_M$连续启动一个存储体需要的间隔时间
>
> ---
>
> 
>
> **存储器的层次结构**
>
> ![image-20210902203821017](image-20210902203821017.png)
>
> ---
>
> ![image-20210903093136852](image-20210903093136852.png)
>
> **存储体系构成的主要依据**
>
> > 程序执行所用到的指令和数据是相对簇聚成智能的块或页，载入到CPU时可以是部分载入。
>
> **虚拟存储器**
>
> > 在主存和辅存之间增设辅助的软硬件设备,虚拟存储器通过增设地址映像表机制来实现程序在主存中的**定位**,将程序分割若干个端和页,用相应的映像表指明该程序的某部分是否装载主存.
> >
> > 根据存储映像的算法,可以有多种存储方式的虚拟存储器
> >
> > > 1. 段式管理(段表长度字段指明该程序所用段表的行数,及程序段数)
> > > 2. 页式管理(将主存空间划分相同大小的页,主存单元的地址$n_p$ 包含 实页号$n_v$和页内位移$n_r$两个字段组成
> > > 3. 段页式管理(程序按模块分段,每个段的大小与实存页面等大,通过段表和相应的页表定位)
> >
> > > 虚拟存储器中,每次访问主存都要将程序地址转换为主存地址,至少要经过两次查询计算(查段和查页)
> > >
> > > > 提高页表的空间利用率
> > > >
> > > > > 1. 将页表放入位为0的行用实页号$n_v$字段存放该程序虚页的主存地址
> > > > > 2. 压缩成只存在已放入主存的虚页与实际地址映射表(目录法)
> > > >
> > > > > FIFO先进先出算法(每个页存在计数器,装入主存时为0,并将已装入主存的页累加1,替换时取最大数)
> > > > >
> > > > > LRU近期最少使用算法
> > > > >
> > > > > OPT优化算法
>
> **Cache存储器**
>
> >辅助存储系统,使用辅助硬件使Cache和主存构成整体.
>
> 

