## Linux IO模型

- #### sync，fsync，fdatasync

  > *当将数据写入文件时，内核通常先将该数据复制到其中一个缓冲区中，如果该缓冲区尚未写满，则并不将其排入输出队列，而是等待其写满或者当内核需要重用该缓冲区以便存放其他磁盘块数据时，再将该缓冲排入输出队列，然后待其到达队首时，才进行实际的I/O操作，延迟写，延迟写减少磁盘读写次数，降低文件内容更新速度*
  >
  > sync：将修改过的缓存块排入写队列（非阻塞）
  >
  > fsync：等待写磁盘操作结束后返回（阻塞）
  >
  > fdatasync：只更新数据，不改变文件属性